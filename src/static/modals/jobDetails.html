<!--
Author:     Oktawiusz Wilk
Date:       10/04/2016
License:    GPL
Purpose:    This file provides display for the job details modal.
-->
<div class="modal-header" class="panel panel-{{getProgressType(job.status)}}">
    <h3 class="inline-title">Job: {{jobId}}</h3>
    <button type="button" class="close" ng-click="cancel()" aria-hidden="true"><i class="glyphicon glyphicon-remove"></i></button>
</div>
<div class="modal-body">
    <div class="container-fluid">
        <div class="col-sm-4" style="padding-left: 0; padding-right: 0;">
            <table class="table">
                <thead>
                    <tr>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <strong>Node: </strong>{{nodeId}}<br/>
                            <strong>Source disk: </strong>{{job().disk}}<br/>
                            <strong>Operation: </strong>{{job().operation}}<br/>
                            <strong>Start time: </strong>{{job().start_time}}<br/>
                            <strong>End time: </strong>{{job().end_time}}<br/>
                            <strong>Status: </strong>{{job().status}}<br/>
                            <span ng-show='job().status == "error"'>
                                <strong>Error Message: </strong>{{job().error_msg}}<br/>
                            </span>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>
        <div class="col-sm-8" style="padding-left: 0; padding-right: 0;">
            <table class="table table-condenset">
                <thead>
                    <tr>
                        <th class="fit">Partition</th>
                        <th class="fit">Remaining</th>
                        <th>Progress</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="partition in job().partitions">
                        <td class="fit">{{partition.name}}</td>
                        <td class="fit">{{partition.remaining}}</td>
                        <td>
                            <uib-progressbar class="no-padding no-margin" animate="true" max="100" value="partition.completed" type="{{getProgressType(partition.status)}}">{{partition.completed}}%</uib-progressbar>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
